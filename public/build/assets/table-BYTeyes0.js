var be=t=>{throw TypeError(t)};var se=(t,e,s)=>e.has(t)||be("Cannot "+s);var i=(t,e,s)=>(se(t,e,"read from private field"),s?s.call(t):e.get(t)),y=(t,e,s)=>e.has(t)?be("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,a)=>(se(t,e,"write to private field"),a?a.call(t,s):e.set(t,s),s),m=(t,e,s)=>(se(t,e,"access private method"),s);import{c as je}from"./index-Djf6MPph.js";import{S as De,p as ye,b as N,s as ie,c as G,n as ae,i as re,d as ge,e as Le,f as _e,g as Fe,h as xe,k as Te,r as f,l as Me,m as Pe,j as h,a as Ue}from"./app-DuqfG2yO.js";import{r as Ae,t as He,v as ze}from"./AuthenticatedLayout-CW1viDj1.js";import{a as C,b as Be}from"./button-y16t9HT4.js";import{u as Ve}from"./useAppUrl-DgigPi0m.js";var R,n,J,v,L,A,O,k,X,H,z,_,F,E,B,l,$,ne,oe,he,le,ce,ue,de,Ne,we,qe=(we=class extends De{constructor(e,s){super();y(this,l);y(this,R);y(this,n);y(this,J);y(this,v);y(this,L);y(this,A);y(this,O);y(this,k);y(this,X);y(this,H);y(this,z);y(this,_);y(this,F);y(this,E);y(this,B,new Set);this.options=s,d(this,R,e),d(this,k,null),d(this,O,ye()),this.options.experimental_prefetchInRender||i(this,O).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,n).addObserver(this),ve(i(this,n),this.options)?m(this,l,$).call(this):this.updateResult(),m(this,l,le).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fe(i(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fe(i(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,m(this,l,ce).call(this),m(this,l,ue).call(this),i(this,n).removeObserver(this)}setOptions(e){const s=this.options,a=i(this,n);if(this.options=i(this,R).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof N(this.options.enabled,i(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");m(this,l,de).call(this),i(this,n).setOptions(this.options),s._defaulted&&!ie(this.options,s)&&i(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,n),observer:this});const c=this.hasListeners();c&&Re(i(this,n),a,this.options,s)&&m(this,l,$).call(this),this.updateResult(),c&&(i(this,n)!==a||N(this.options.enabled,i(this,n))!==N(s.enabled,i(this,n))||G(this.options.staleTime,i(this,n))!==G(s.staleTime,i(this,n)))&&m(this,l,ne).call(this);const r=m(this,l,oe).call(this);c&&(i(this,n)!==a||N(this.options.enabled,i(this,n))!==N(s.enabled,i(this,n))||r!==i(this,E))&&m(this,l,he).call(this,r)}getOptimisticResult(e){const s=i(this,R).getQueryCache().build(i(this,R),e),a=this.createResult(s,e);return We(this,a)&&(d(this,v,a),d(this,A,this.options),d(this,L,i(this,n).state)),a}getCurrentResult(){return i(this,v)}trackResult(e,s){return new Proxy(e,{get:(a,c)=>(this.trackProp(c),s==null||s(c),Reflect.get(a,c))})}trackProp(e){i(this,B).add(e)}getCurrentQuery(){return i(this,n)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=i(this,R).defaultQueryOptions(e),a=i(this,R).getQueryCache().build(i(this,R),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){return m(this,l,$).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,v)))}createResult(e,s){var me;const a=i(this,n),c=this.options,r=i(this,v),o=i(this,L),j=i(this,A),g=e!==a?e.state:i(this,J),{state:I}=e;let u={...I},w=!1,p;if(s._optimisticResults){const T=this.hasListeners(),ee=!T&&ve(e,s),M=T&&Re(e,a,s,c);(ee||M)&&(u={...u,...Fe(I.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:Q,errorUpdatedAt:D,status:x}=u;p=u.data;let V=!1;if(s.placeholderData!==void 0&&p===void 0&&x==="pending"){let T;r!=null&&r.isPlaceholderData&&s.placeholderData===(j==null?void 0:j.placeholderData)?(T=r.data,V=!0):T=typeof s.placeholderData=="function"?s.placeholderData((me=i(this,z))==null?void 0:me.state.data,i(this,z)):s.placeholderData,T!==void 0&&(x="success",p=xe(r==null?void 0:r.data,T,s),w=!0)}if(s.select&&p!==void 0&&!V)if(r&&p===(o==null?void 0:o.data)&&s.select===i(this,X))p=i(this,H);else try{d(this,X,s.select),p=s.select(p),p=xe(r==null?void 0:r.data,p,s),d(this,H,p),d(this,k,null)}catch(T){d(this,k,T)}i(this,k)&&(Q=i(this,k),p=i(this,H),D=Date.now(),x="error");const q=u.fetchStatus==="fetching",K=x==="pending",W=x==="error",Y=K&&q,Z=p!==void 0,S={status:x,fetchStatus:u.fetchStatus,isPending:K,isSuccess:x==="success",isError:W,isInitialLoading:Y,isLoading:Y,data:p,dataUpdatedAt:u.dataUpdatedAt,error:Q,errorUpdatedAt:D,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>g.dataUpdateCount||u.errorUpdateCount>g.errorUpdateCount,isFetching:q,isRefetching:q&&!K,isLoadingError:W&&!Z,isPaused:u.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:W&&Z,isStale:pe(e,s),refetch:this.refetch,promise:i(this,O),isEnabled:N(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=te=>{S.status==="error"?te.reject(S.error):S.data!==void 0&&te.resolve(S.data)},ee=()=>{const te=d(this,O,S.promise=ye());T(te)},M=i(this,O);switch(M.status){case"pending":e.queryHash===a.queryHash&&T(M);break;case"fulfilled":(S.status==="error"||S.data!==M.value)&&ee();break;case"rejected":(S.status!=="error"||S.error!==M.reason)&&ee();break}}return S}updateResult(){const e=i(this,v),s=this.createResult(i(this,n),this.options);if(d(this,L,i(this,n).state),d(this,A,this.options),i(this,L).data!==void 0&&d(this,z,i(this,n)),ie(s,e))return;d(this,v,s);const a=()=>{if(!e)return!0;const{notifyOnChangeProps:c}=this.options,r=typeof c=="function"?c():c;if(r==="all"||!r&&!i(this,B).size)return!0;const o=new Set(r??i(this,B));return this.options.throwOnError&&o.add("error"),Object.keys(i(this,v)).some(j=>{const b=j;return i(this,v)[b]!==e[b]&&o.has(b)})};m(this,l,Ne).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&m(this,l,le).call(this)}},R=new WeakMap,n=new WeakMap,J=new WeakMap,v=new WeakMap,L=new WeakMap,A=new WeakMap,O=new WeakMap,k=new WeakMap,X=new WeakMap,H=new WeakMap,z=new WeakMap,_=new WeakMap,F=new WeakMap,E=new WeakMap,B=new WeakMap,l=new WeakSet,$=function(e){m(this,l,de).call(this);let s=i(this,n).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ae)),s},ne=function(){m(this,l,ce).call(this);const e=G(this.options.staleTime,i(this,n));if(re||i(this,v).isStale||!ge(e))return;const a=Le(i(this,v).dataUpdatedAt,e)+1;d(this,_,setTimeout(()=>{i(this,v).isStale||this.updateResult()},a))},oe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,n)):this.options.refetchInterval)??!1},he=function(e){m(this,l,ue).call(this),d(this,E,e),!(re||N(this.options.enabled,i(this,n))===!1||!ge(i(this,E))||i(this,E)===0)&&d(this,F,setInterval(()=>{(this.options.refetchIntervalInBackground||_e.isFocused())&&m(this,l,$).call(this)},i(this,E)))},le=function(){m(this,l,ne).call(this),m(this,l,he).call(this,m(this,l,oe).call(this))},ce=function(){i(this,_)&&(clearTimeout(i(this,_)),d(this,_,void 0))},ue=function(){i(this,F)&&(clearInterval(i(this,F)),d(this,F,void 0))},de=function(){const e=i(this,R).getQueryCache().build(i(this,R),this.options);if(e===i(this,n))return;const s=i(this,n);d(this,n,e),d(this,J,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ne=function(e){Te.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(i(this,v))}),i(this,R).getQueryCache().notify({query:i(this,n),type:"observerResultsUpdated"})})},we);function Ke(t,e){return N(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ve(t,e){return Ke(t,e)||t.state.data!==void 0&&fe(t,e,e.refetchOnMount)}function fe(t,e,s){if(N(e.enabled,t)!==!1&&G(e.staleTime,t)!=="static"){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&pe(t,e)}return!1}function Re(t,e,s,a){return(t!==e||N(a.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&pe(t,s)}function pe(t,e){return N(e.enabled,t)!==!1&&t.isStaleByTime(G(e.staleTime,t))}function We(t,e){return!ie(t.getCurrentResult(),e)}var Se=f.createContext(!1),$e=()=>f.useContext(Se);Se.Provider;function Ge(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Je=f.createContext(Ge()),Xe=()=>f.useContext(Je),Ye=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ze=t=>{f.useEffect(()=>{t.clearReset()},[t])},et=({result:t,errorResetBoundary:e,throwOnError:s,query:a,suspense:c})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(c&&t.data===void 0||Me(s,[t.error,a])),tt=t=>{if(t.suspense){const e=a=>a==="static"?a:Math.max(a??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...a)=>e(s(...a)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},st=(t,e)=>t.isLoading&&t.isFetching&&!e,it=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ce=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function at(t,e,s){var u,w,p,Q,D;const a=$e(),c=Xe(),r=Pe(),o=r.defaultQueryOptions(t);(w=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||w.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",tt(o),Ye(o,c),Ze(c);const j=!r.getQueryCache().get(o.queryHash),[b]=f.useState(()=>new e(r,o)),g=b.getOptimisticResult(o),I=!a&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(x=>{const V=I?b.subscribe(Te.batchCalls(x)):ae;return b.updateResult(),V},[b,I]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),f.useEffect(()=>{b.setOptions(o)},[o,b]),it(o,g))throw Ce(o,b,c);if(et({result:g,errorResetBoundary:c,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw g.error;if((Q=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||Q.call(p,o,g),o.experimental_prefetchInRender&&!re&&st(g,a)){const x=j?Ce(o,b,c):(D=r.getQueryCache().get(o.queryHash))==null?void 0:D.promise;x==null||x.catch(ae).finally(()=>{b.updateResult()})}return o.notifyOnChangeProps?g:b.trackResult(g)}function rt(t,e){return at(t,qe)}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ot=je("ChevronLeft",nt);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],wt=je("List",ht),Oe=({className:t,...e})=>h.jsx("nav",{role:"navigation","aria-label":"pagination",className:C("mx-auto flex w-full justify-center",t),...e});Oe.displayName="Pagination";const ke=f.forwardRef(({className:t,...e},s)=>h.jsx("ul",{ref:s,className:C("flex flex-row items-center gap-1",t),...e}));ke.displayName="PaginationContent";const P=f.forwardRef(({className:t,...e},s)=>h.jsx("li",{ref:s,className:C("",t),...e}));P.displayName="PaginationItem";const U=({className:t,isActive:e,size:s="icon",...a})=>h.jsx("a",{"aria-current":e?"page":void 0,className:C(Be({variant:e?"outline":"ghost",size:s}),t),...a});U.displayName="PaginationLink";const Ee=({className:t,...e})=>h.jsxs(U,{"aria-label":"Go to previous page",size:"default",className:C("gap-1 pl-2.5",t),...e,children:[h.jsx(ot,{className:"h-4 w-4"}),h.jsx("span",{children:"Previous"})]});Ee.displayName="PaginationPrevious";const Ie=({className:t,...e})=>h.jsxs(U,{"aria-label":"Go to next page",size:"default",className:C("gap-1 pr-2.5",t),...e,children:[h.jsx("span",{children:"Next"}),h.jsx(Ae,{className:"h-4 w-4"})]});Ie.displayName="PaginationNext";const jt=({currentPage:t,setCurrentPage:e,totalPages:s})=>{if(s<=1)return null;const a=[],c=2;for(let r=1;r<=s;r++)r===1||r===s||r>=t-c&&r<=t+c?a.push(r):a[a.length-1]!=="..."&&a.push("...");return h.jsx(Oe,{children:h.jsxs(ke,{children:[h.jsx(P,{children:h.jsx(U,{href:"#",onClick:r=>{r.preventDefault(),e(1)},disabled:t===1,children:h.jsx(He,{})})}),h.jsx(P,{children:h.jsx(Ee,{href:"#",onClick:r=>{r.preventDefault(),e(o=>Math.max(o-1,1))},disabled:t===1})}),a.map((r,o)=>h.jsx(P,{children:r==="..."?h.jsx("span",{className:"px-2",children:"..."}):h.jsx(U,{href:"#",isActive:r===t,onClick:j=>{j.preventDefault(),e(r)},children:r})},o)),h.jsx(P,{children:h.jsx(Ie,{href:"#",onClick:r=>{r.preventDefault(),e(o=>Math.min(o+1,s))},disabled:t===s})}),h.jsx(P,{children:h.jsx(U,{href:"#",onClick:r=>{r.preventDefault(),e(s)},disabled:t===s,children:h.jsx(ze,{})})})]})})},Tt=({queryKey:t,endpoint:e,queryParams:s={},options:a={}})=>{const c=Ve(),[r,o]=f.useState(""),[j,b]=f.useState(1),[g,I]=f.useState({column:"",direction:"asc"}),u=async({queryKey:x})=>{const[V,q,K,W,Y,Z]=x;return(await Ue.get(`${c}/api/${e}`,{params:{page:q,search:K,sortColumn:W,sortDirection:Y,...Z}})).data},{data:w,error:p,isLoading:Q,refetch:D}=rt({queryKey:[t,j,r,g.column,g.direction,s],queryFn:u,keepPreviousData:!0,...a});return{data:w,error:p,isLoading:Q,refetch:D,searchQuery:r,setSearchQuery:o,currentPage:j,setCurrentPage:b,sortConfig:g,setSortConfig:I,totalPages:(w==null?void 0:w.last_page)??1,totalEntries:(w==null?void 0:w.total)??0}},lt=f.forwardRef(({className:t,...e},s)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:s,className:C("w-full caption-bottom text-sm",t),...e})}));lt.displayName="Table";const ct=f.forwardRef(({className:t,...e},s)=>h.jsx("thead",{ref:s,className:C("[&_tr]:border-b",t),...e}));ct.displayName="TableHeader";const ut=f.forwardRef(({className:t,...e},s)=>h.jsx("tbody",{ref:s,className:C("[&_tr:last-child]:border-0",t),...e}));ut.displayName="TableBody";const dt=f.forwardRef(({className:t,...e},s)=>h.jsx("tfoot",{ref:s,className:C("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dt.displayName="TableFooter";const ft=f.forwardRef(({className:t,...e},s)=>h.jsx("tr",{ref:s,className:C("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ft.displayName="TableRow";const pt=f.forwardRef(({className:t,...e},s)=>h.jsx("th",{ref:s,className:C("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));pt.displayName="TableHead";const mt=f.forwardRef(({className:t,...e},s)=>h.jsx("td",{ref:s,className:C("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));mt.displayName="TableCell";const bt=f.forwardRef(({className:t,...e},s)=>h.jsx("caption",{ref:s,className:C("mt-4 text-sm text-muted-foreground",t),...e}));bt.displayName="TableCaption";export{wt as L,lt as T,ct as a,ft as b,pt as c,ut as d,mt as e,jt as f,Tt as u};
