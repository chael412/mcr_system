import{r as i,a as x,j as t,H as _}from"./app-DQX9OVmg.js";import{A as B,g as D}from"./AuthenticatedLayout-C6bU0PmD.js";import{S as g,R as u}from"./SkeletonCard-Bk4rcvMv.js";import{u as A}from"./useAppUrl-GuW6x_06.js";import"./button-EnwG9Vp5.js";import"./clsx-B-dksMZM.js";import"./input-DLoqd4Qu.js";import"./index-CWgjLV9q.js";function z({birth:y,marriage:N,death:v}){const n=A(),[f,j]=i.useState(!0),[d,C]=i.useState({series:[],options:{chart:{type:"pie",width:380},labels:[]}}),[w,h]=i.useState(!0),[p,$]=i.useState({series:[],options:{chart:{type:"pie",width:380},labels:[]}}),[E,L]=i.useState(!0),[m,S]=i.useState({series:[],options:{chart:{type:"pie",width:380},labels:[]}});return i.useEffect(()=>{j(!0),x.get(`${n}/api/birth-certificates/stats`).then(s=>{const a=s.data,o=a.map(e=>e.total),r=a.map(e=>e.place_birth),l=r.map((e,c)=>`hsl(${c*137.508%360}, 70%, 50%)`);C({series:o,options:{...d.options,labels:r,colors:l,legend:{position:"right"},tooltip:{y:{formatter:e=>`${e} total`}}}})}).catch(s=>console.error(s)).finally(()=>j(!1))},[]),i.useEffect(()=>{h(!0),x.get(`${n}/api/marriage-certificates/stats`).then(s=>{const a=s.data,o=a.map(e=>e.total),r=a.map(e=>e.place_marriage),l=r.map((e,c)=>`hsl(${c*157.5%360}, 65%, 55%)`);$({series:o,options:{...p.options,labels:r,colors:l,legend:{position:"right"},tooltip:{y:{formatter:e=>`${e} total`}}}})}).catch(s=>console.error(s)).finally(()=>h(!1))},[]),i.useEffect(()=>{h(!0),x.get(`${n}/api/death-certificates/stats`).then(s=>{const a=s.data,o=a.map(e=>e.total),r=a.map(e=>e.place_death),l=r.map((e,c)=>`hsl(${c*157.5%360}, 65%, 55%)`);S({series:o,options:{...m.options,labels:r,colors:l,legend:{position:"right"},tooltip:{y:{formatter:e=>`${e} total`}}}})}).catch(s=>console.error(s)).finally(()=>L(!1))},[]),t.jsxs(B,{header:t.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),children:[t.jsx(_,{title:"Dashboard"}),t.jsx("div",{className:"p-6 grid grid-cols-3 gap-4",children:[{title:"Total Birth Certificate",value:y},{title:"Total Marriage Certificate",value:N},{title:"Total Death Certificate",value:v}].map((s,a)=>t.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-300 shadow-md h-[140px] w-[300px]",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"bg-blue-500 text-white p-4 rounded-full",children:t.jsx(D,{size:30})}),t.jsxs("div",{children:[t.jsx("div",{className:"h-[60px]",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:s.title})}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value})]})]})},a))}),t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-lg font-bold mb-4",children:"Birth Certificates Issued per Barangay"}),f?t.jsx(g,{}):t.jsx(u,{options:d.options,series:d.series,type:"pie",width:420})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-lg font-bold mb-4",children:"Marriage Certificates Issued per Barangay"}),w?t.jsx(g,{}):t.jsx(u,{options:p.options,series:p.series,type:"pie",width:420})]})]}),t.jsx("div",{className:"grid grid-cols-2",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-lg font-bold mb-4",children:"Death Certificates Issued per Barangay"}),f?t.jsx(g,{}):t.jsx(u,{options:m.options,series:m.series,type:"pie",width:420})]})})]})}export{z as default};
