import{r as d,u as v,j as e,H as j,L as y,a as w}from"./app-BqRBQcJ9.js";import{F as n,S as D}from"./react-select.esm-BwB4fMHA.js";import"./select-BhDDVGkp.js";import{L as u}from"./label-Fx_rsG_Q.js";import{A as N}from"./AuthenticatedLayout-5oaBSj-P.js";import{B as c}from"./button-C9epaQ9w.js";import{I as S}from"./input-C_EZNZ2N.js";import"./dialog-slnNCvAX.js";import{u as C}from"./useAppUrl-B7r_fl3A.js";import"./index-JhQEQJfU.js";import"./clsx-B-dksMZM.js";const K=()=>{const f=C(),[F,B]=d.useState([]),[L,A]=d.useState([]),[I,M]=d.useState(""),[H,R]=d.useState(""),[g,p]=d.useState(""),{data:r,setData:i,errors:t,reset:_,processing:b}=v({register_number:"",date_of_registration:"",husband_firstname:"",husband_middlename:"",husband_lastname:"",wife_firstname:"",wife_middlename:"",wife_lastname:"",place_marriage:"",file:""}),h=a=>{i("file",a.target.files[0])},x=async a=>{var o;a.preventDefault();const s=new FormData;s.append("husband_firstname",r.husband_firstname),s.append("husband_middlename",r.husband_middlename),s.append("husband_lastname",r.husband_lastname),s.append("wife_firstname",r.wife_firstname),s.append("wife_middlename",r.wife_middlename),s.append("wife_lastname",r.wife_lastname),s.append("register_number",r.register_number),s.append("date_of_registration",r.date_of_registration),s.append("place_marriage",r.place_marriage),s.append("file",r.file);try{console.log("Sending Payload:",r);const l=await w.post(`${f}/api/store_marriagecertificate`,s,{headers:{"Content-Type":"multipart/form-data"}});(l.status===200||l.status===201)&&(alert("Marriage certificate record added successfully."),window.location.reload(),_())}catch(l){console.error("Error saving data:",((o=l.response)==null?void 0:o.data)||l)}},m=[{value:"N/A",label:"N/A"},{value:"Bicobian",label:"Bicobian"},{value:"Dibulos",label:"Dibulos"},{value:"Dicambangan",label:"Dicambangan"},{value:"Dicaruyan",label:"Dicaruyan"},{value:"Dicatian",label:"Dicatian"},{value:"Dilakit",label:"Dilakit"},{value:"Dimapnat",label:"Dimapnat"},{value:"Dimapula",label:"Dimapula"},{value:"Dimasalansan",label:"Dimasalansan"},{value:"Dipudo",label:"Dipudo"},{value:"Ditarum",label:"Ditarum"},{value:"Sapinit",label:"Sapinit"}];return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Marriage Certificates"}),children:[e.jsx(j,{title:"Marriage Certificates"}),e.jsx("div",{className:" flex justify-center mb-5",children:e.jsx("div",{className:"border border-gray-400 w-[860px] rounded-md ",children:e.jsxs("form",{onSubmit:x,className:"px-6 py-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl",children:"Add New Marriage Certificate"}),e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:e.jsxs("div",{className:"mt-2",children:[e.jsx(u,{htmlFor:"file",children:"File"}),e.jsx(S,{type:"file",onChange:h})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(n,{id:"regsistry_number",label:"Registry Number",value:r.register_number,onChange:a=>i("register_number",a.target.value),error:t.register_number}),e.jsx(n,{id:"date_of_registration",label:"Date of Registration",type:"date",value:r.date_of_registration,onChange:a=>i("date_of_registration",a.target.value),error:t.date_of_registration}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"place_marriage",children:"Barangay"}),e.jsx(D,{value:m.find(a=>a.value===g),options:m,onChange:a=>{const s=(a==null?void 0:a.value)||"";p(s),i("place_marriage",s)}})]})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Husband Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(n,{id:"husband_firstname",label:"FirstName",value:r.husband_firstname,onChange:a=>i("husband_firstname",a.target.value),error:t.husband_firstname}),e.jsx(n,{id:"husband_middlename",label:"MiddleName",value:r.husband_middlename,onChange:a=>i("husband_middlename",a.target.value),error:t.husband_middlename}),e.jsx(n,{id:"husband_lastname",label:"LastName",value:r.husband_lastname,onChange:a=>i("husband_lastname",a.target.value),error:t.husband_lastname})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Wife Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(n,{id:"wife_firstname",label:"FirstName",value:r.wife_firstname,onChange:a=>i("wife_firstname",a.target.value),error:t.wife_firstname}),e.jsx(n,{id:"wife_middlename",label:"MiddleName",value:r.wife_middlename,onChange:a=>i("wife_middlename",a.target.value),error:t.wife_middlename}),e.jsx(n,{id:"wife_lastname",label:"LastName",value:r.wife_lastname,onChange:a=>i("wife_lastname",a.target.value),error:t.wife_lastname})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(y,{href:"/marriage_certificates",children:e.jsx(c,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:b,className:"px-6 py-2",children:"Save"})]})]})})})]})};export{K as default};
