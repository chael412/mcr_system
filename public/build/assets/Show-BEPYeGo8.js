import{r as n,j as e,H as h}from"./app-BwOUb4Nx.js";import{D as p,P as b,G as j}from"./TextLayer-f2d1TvX4.js";import{C as g}from"./ClipLoader-CAbCs7KW.js";import{A as N}from"./AuthenticatedLayout-DidTALNL.js";import{u as w}from"./useAppUrl-d50p9ITA.js";import"./clsx-B-dksMZM.js";import"./button-WvhE_DBA.js";import"./input-Cc8alCPC.js";import"./index-Dt7vqqSQ.js";j.workerSrc=new URL("/build/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();const k=({marriage:s})=>{const a=w(),[c,d]=n.useState(null),[m,l]=n.useState(!0),[r,u]=n.useState(!1);console.log(s);const o=s.file?`${a}/${s.file}`:null;n.useEffect(()=>{s.file||l(!1);const t=setTimeout(()=>{u(!0)},800);return()=>clearTimeout(t)},[s.file]);const x=({numPages:t})=>{d(t),l(!1)},f=()=>{const t=window.open(o);t.onload=()=>t.print()};return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold",children:"Birth Certificates"}),children:[e.jsx(h,{title:"Birth Certificates"}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"px-4 py-1",children:[!r&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-64",children:[e.jsx(g,{color:"#2563eb",size:80}),e.jsx("span",{className:"text-xl text-blue-600",children:"Loading..."})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center items-center flex-col gap-2 font-semibold text-xl bg-gray-200 px-4 py-2 mb-1",children:[e.jsxs("h3",{children:[`${s.husband_firstname} ${s.husband_middlename??""} ${s.husband_lastname}`," ","and"," ",`${s.husband_firstname} ${s.husband_middlename??""} ${s.husband_lastname}`]}),e.jsx("span",{children:"Marriage Certificate"})]}),o?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:f,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Print"})}),e.jsx("div",{className:"h-[520px] overflow-auto border border-gray-400 p-2",children:e.jsx(p,{file:o,onLoadSuccess:x,onLoadError:()=>l(!1),loading:null,children:!m&&Array.from(new Array(c),(t,i)=>e.jsx(b,{pageNumber:i+1},i+1))})})]}):e.jsx("div",{className:"text-red-600 font-semibold text-center py-10",children:"No birth certificate uploaded."})]})]})})]})};export{k as default};
