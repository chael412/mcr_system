var ve=t=>{throw TypeError(t)};var re=(t,e,s)=>e.has(t)||ve("Cannot "+s);var r=(t,e,s)=>(re(t,e,"read from private field"),s?s.call(t):e.get(t)),y=(t,e,s)=>e.has(t)?ve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,i)=>(re(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),b=(t,e,s)=>(re(t,e,"access private method"),s);import{c as Se}from"./index-eB1YD3uc.js";import{S as Le,p as ye,b as S,s as ie,c as G,n as ae,i as ne,d as ge,e as Me,f as Fe,g as Pe,h as xe,k as Te,r as f,l as Ue,m as Ae,j as c,a as Be}from"./app-D5lOC2os.js";import{r as He,t as ze,v as Ve}from"./AuthenticatedLayout-DHSc8q_9.js";import{a as j,b as We}from"./button-S9L6tSJM.js";import{u as $e}from"./useAppUrl-Cei-Qys3.js";var w,l,J,C,D,A,k,E,X,B,H,L,M,I,z,h,K,oe,le,ce,he,ue,de,fe,Ne,Oe,qe=(Oe=class extends Le{constructor(e,s){super();y(this,h);y(this,w);y(this,l);y(this,J);y(this,C);y(this,D);y(this,A);y(this,k);y(this,E);y(this,X);y(this,B);y(this,H);y(this,L);y(this,M);y(this,I);y(this,z,new Set);this.options=s,d(this,w,e),d(this,E,null),d(this,k,ye()),this.options.experimental_prefetchInRender||r(this,k).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,l).addObserver(this),Re(r(this,l),this.options)?b(this,h,K).call(this):this.updateResult(),b(this,h,he).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pe(r(this,l),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pe(r(this,l),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,h,ue).call(this),b(this,h,de).call(this),r(this,l).removeObserver(this)}setOptions(e){const s=this.options,i=r(this,l);if(this.options=r(this,w).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof S(this.options.enabled,r(this,l))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,h,fe).call(this),r(this,l).setOptions(this.options),s._defaulted&&!ie(this.options,s)&&r(this,w).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,l),observer:this});const n=this.hasListeners();n&&Ce(r(this,l),i,this.options,s)&&b(this,h,K).call(this),this.updateResult(),n&&(r(this,l)!==i||S(this.options.enabled,r(this,l))!==S(s.enabled,r(this,l))||G(this.options.staleTime,r(this,l))!==G(s.staleTime,r(this,l)))&&b(this,h,oe).call(this);const a=b(this,h,le).call(this);n&&(r(this,l)!==i||S(this.options.enabled,r(this,l))!==S(s.enabled,r(this,l))||a!==r(this,I))&&b(this,h,ce).call(this,a)}getOptimisticResult(e){const s=r(this,w).getQueryCache().build(r(this,w),e),i=this.createResult(s,e);return Ge(this,i)&&(d(this,C,i),d(this,A,this.options),d(this,D,r(this,l).state)),i}getCurrentResult(){return r(this,C)}trackResult(e,s){return new Proxy(e,{get:(i,n)=>(this.trackProp(n),s==null||s(n),Reflect.get(i,n))})}trackProp(e){r(this,z).add(e)}getCurrentQuery(){return r(this,l)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,w).defaultQueryOptions(e),i=r(this,w).getQueryCache().build(r(this,w),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){return b(this,h,K).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,C)))}createResult(e,s){var be;const i=r(this,l),n=this.options,a=r(this,C),o=r(this,D),g=r(this,A),v=e!==i?e.state:r(this,J),{state:T}=e;let u={...T},x=!1,m;if(s._optimisticResults){const O=this.hasListeners(),ee=!O&&Re(e,s),F=O&&Ce(e,i,s,n);(ee||F)&&(u={...u,...Pe(T.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:_,errorUpdatedAt:Q,status:R}=u;m=u.data;let V=!1;if(s.placeholderData!==void 0&&m===void 0&&R==="pending"){let O;a!=null&&a.isPlaceholderData&&s.placeholderData===(g==null?void 0:g.placeholderData)?(O=a.data,V=!0):O=typeof s.placeholderData=="function"?s.placeholderData((be=r(this,H))==null?void 0:be.state.data,r(this,H)):s.placeholderData,O!==void 0&&(R="success",m=xe(a==null?void 0:a.data,O,s),x=!0)}if(s.select&&m!==void 0&&!V)if(a&&m===(o==null?void 0:o.data)&&s.select===r(this,X))m=r(this,B);else try{d(this,X,s.select),m=s.select(m),m=xe(a==null?void 0:a.data,m,s),d(this,B,m),d(this,E,null)}catch(O){d(this,E,O)}r(this,E)&&(_=r(this,E),m=r(this,B),Q=Date.now(),R="error");const W=u.fetchStatus==="fetching",$=R==="pending",q=R==="error",Y=$&&W,Z=m!==void 0,N={status:R,fetchStatus:u.fetchStatus,isPending:$,isSuccess:R==="success",isError:q,isInitialLoading:Y,isLoading:Y,data:m,dataUpdatedAt:u.dataUpdatedAt,error:_,errorUpdatedAt:Q,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>v.dataUpdateCount||u.errorUpdateCount>v.errorUpdateCount,isFetching:W,isRefetching:W&&!$,isLoadingError:q&&!Z,isPaused:u.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:q&&Z,isStale:me(e,s),refetch:this.refetch,promise:r(this,k),isEnabled:S(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=te=>{N.status==="error"?te.reject(N.error):N.data!==void 0&&te.resolve(N.data)},ee=()=>{const te=d(this,k,N.promise=ye());O(te)},F=r(this,k);switch(F.status){case"pending":e.queryHash===i.queryHash&&O(F);break;case"fulfilled":(N.status==="error"||N.data!==F.value)&&ee();break;case"rejected":(N.status!=="error"||N.error!==F.reason)&&ee();break}}return N}updateResult(){const e=r(this,C),s=this.createResult(r(this,l),this.options);if(d(this,D,r(this,l).state),d(this,A,this.options),r(this,D).data!==void 0&&d(this,H,r(this,l)),ie(s,e))return;d(this,C,s);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!r(this,z).size)return!0;const o=new Set(a??r(this,z));return this.options.throwOnError&&o.add("error"),Object.keys(r(this,C)).some(g=>{const p=g;return r(this,C)[p]!==e[p]&&o.has(p)})};b(this,h,Ne).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,h,he).call(this)}},w=new WeakMap,l=new WeakMap,J=new WeakMap,C=new WeakMap,D=new WeakMap,A=new WeakMap,k=new WeakMap,E=new WeakMap,X=new WeakMap,B=new WeakMap,H=new WeakMap,L=new WeakMap,M=new WeakMap,I=new WeakMap,z=new WeakMap,h=new WeakSet,K=function(e){b(this,h,fe).call(this);let s=r(this,l).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ae)),s},oe=function(){b(this,h,ue).call(this);const e=G(this.options.staleTime,r(this,l));if(ne||r(this,C).isStale||!ge(e))return;const i=Me(r(this,C).dataUpdatedAt,e)+1;d(this,L,setTimeout(()=>{r(this,C).isStale||this.updateResult()},i))},le=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,l)):this.options.refetchInterval)??!1},ce=function(e){b(this,h,de).call(this),d(this,I,e),!(ne||S(this.options.enabled,r(this,l))===!1||!ge(r(this,I))||r(this,I)===0)&&d(this,M,setInterval(()=>{(this.options.refetchIntervalInBackground||Fe.isFocused())&&b(this,h,K).call(this)},r(this,I)))},he=function(){b(this,h,oe).call(this),b(this,h,ce).call(this,b(this,h,le).call(this))},ue=function(){r(this,L)&&(clearTimeout(r(this,L)),d(this,L,void 0))},de=function(){r(this,M)&&(clearInterval(r(this,M)),d(this,M,void 0))},fe=function(){const e=r(this,w).getQueryCache().build(r(this,w),this.options);if(e===r(this,l))return;const s=r(this,l);d(this,l,e),d(this,J,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ne=function(e){Te.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,C))}),r(this,w).getQueryCache().notify({query:r(this,l),type:"observerResultsUpdated"})})},Oe);function Ke(t,e){return S(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Re(t,e){return Ke(t,e)||t.state.data!==void 0&&pe(t,e,e.refetchOnMount)}function pe(t,e,s){if(S(e.enabled,t)!==!1&&G(e.staleTime,t)!=="static"){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&me(t,e)}return!1}function Ce(t,e,s,i){return(t!==e||S(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&me(t,s)}function me(t,e){return S(e.enabled,t)!==!1&&t.isStaleByTime(G(e.staleTime,t))}function Ge(t,e){return!ie(t.getCurrentResult(),e)}var ke=f.createContext(!1),Je=()=>f.useContext(ke);ke.Provider;function Xe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ye=f.createContext(Xe()),Ze=()=>f.useContext(Ye),et=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},tt=t=>{f.useEffect(()=>{t.clearReset()},[t])},st=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(n&&t.data===void 0||Ue(s,[t.error,i])),rt=t=>{if(t.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...i)=>e(s(...i)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},it=(t,e)=>t.isLoading&&t.isFetching&&!e,at=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,we=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function nt(t,e,s){var u,x,m,_,Q;const i=Je(),n=Ze(),a=Ae(),o=a.defaultQueryOptions(t);(x=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||x.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",rt(o),et(o,n),tt(n);const g=!a.getQueryCache().get(o.queryHash),[p]=f.useState(()=>new e(a,o)),v=p.getOptimisticResult(o),T=!i&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(R=>{const V=T?p.subscribe(Te.batchCalls(R)):ae;return p.updateResult(),V},[p,T]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),f.useEffect(()=>{p.setOptions(o)},[o,p]),at(o,v))throw we(o,p,n);if(st({result:v,errorResetBoundary:n,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw v.error;if((_=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||_.call(m,o,v),o.experimental_prefetchInRender&&!ne&&it(v,i)){const R=g?we(o,p,n):(Q=a.getQueryCache().get(o.queryHash))==null?void 0:Q.promise;R==null||R.catch(ae).finally(()=>{p.updateResult()})}return o.notifyOnChangeProps?v:p.trackResult(v)}function ot(t,e){return nt(t,qe)}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ct=Se("ChevronLeft",lt);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Et=Se("List",ht),Ee=({className:t,...e})=>c.jsx("nav",{role:"navigation","aria-label":"pagination",className:j("mx-auto flex w-full justify-center",t),...e});Ee.displayName="Pagination";const Ie=f.forwardRef(({className:t,...e},s)=>c.jsx("ul",{ref:s,className:j("flex flex-row items-center gap-1",t),...e}));Ie.displayName="PaginationContent";const P=f.forwardRef(({className:t,...e},s)=>c.jsx("li",{ref:s,className:j("",t),...e}));P.displayName="PaginationItem";const U=({className:t,isActive:e,size:s="icon",...i})=>c.jsx("a",{"aria-current":e?"page":void 0,className:j(We({variant:e?"outline":"ghost",size:s}),t),...i});U.displayName="PaginationLink";const _e=({className:t,...e})=>c.jsxs(U,{"aria-label":"Go to previous page",size:"default",className:j("gap-1 pl-2.5",t),...e,children:[c.jsx(ct,{className:"h-4 w-4"}),c.jsx("span",{children:"Previous"})]});_e.displayName="PaginationPrevious";const Qe=({className:t,...e})=>c.jsxs(U,{"aria-label":"Go to next page",size:"default",className:j("gap-1 pr-2.5",t),...e,children:[c.jsx("span",{children:"Next"}),c.jsx(He,{className:"h-4 w-4"})]});Qe.displayName="PaginationNext";const It=({currentPage:t,setCurrentPage:e,totalPages:s})=>{if(s<=1)return null;const i=[],n=2;for(let a=1;a<=s;a++)a===1||a===s||a>=t-n&&a<=t+n?i.push(a):i[i.length-1]!=="..."&&i.push("...");return c.jsx(Ee,{children:c.jsxs(Ie,{children:[c.jsx(P,{children:c.jsx(U,{href:"#",onClick:a=>{a.preventDefault(),e(1)},disabled:t===1,children:c.jsx(ze,{})})}),c.jsx(P,{children:c.jsx(_e,{href:"#",onClick:a=>{a.preventDefault(),e(o=>Math.max(o-1,1))},disabled:t===1})}),i.map((a,o)=>c.jsx(P,{children:a==="..."?c.jsx("span",{className:"px-2",children:"..."}):c.jsx(U,{href:"#",isActive:a===t,onClick:g=>{g.preventDefault(),e(a)},children:a})},o)),c.jsx(P,{children:c.jsx(Qe,{href:"#",onClick:a=>{a.preventDefault(),e(o=>Math.min(o+1,s))},disabled:t===s})}),c.jsx(P,{children:c.jsx(U,{href:"#",onClick:a=>{a.preventDefault(),e(s)},disabled:t===s,children:c.jsx(Ve,{})})})]})})},_t=({queryKey:t,endpoint:e,queryParams:s={},options:i={}})=>{const n=$e(),[a,o]=f.useState(""),[g,p]=f.useState(1),[v,T]=f.useState({column:"",direction:"asc"}),u=async({queryKey:R})=>{const[V,W,$,q,Y,Z]=R;return(await Be.get(`${n}/api/${e}`,{params:{page:W,search:$,sortColumn:q,sortDirection:Y,...Z}})).data},{data:x,error:m,isLoading:_,refetch:Q}=ot({queryKey:[t,g,a,v.column,v.direction,s],queryFn:u,keepPreviousData:!0,...i});return{data:x,error:m,isLoading:_,refetch:Q,searchQuery:a,setSearchQuery:o,currentPage:g,setCurrentPage:p,sortConfig:v,setSortConfig:T,totalPages:(x==null?void 0:x.last_page)??1,totalEntries:(x==null?void 0:x.total)??0}};var ut={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function dt(t){if(typeof t=="number")return{value:t,unit:"px"};var e,s=(t.match(/^[0-9.]*/)||"").toString();s.includes(".")?e=parseFloat(s):e=parseInt(s,10);var i=(t.match(/[^0-9]*$/)||"").toString();return ut[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function je(t){var e=dt(t);return"".concat(e.value).concat(e.unit)}var ft=function(t,e,s){var i="react-spinners-".concat(t,"-").concat(s);if(typeof window>"u"||!window.document)return i;var n=document.createElement("style");document.head.appendChild(n);var a=n.sheet,o=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(o,0),i},se=function(){return se=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++){e=arguments[s];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},se.apply(this,arguments)},pt=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s},mt=ft("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Qt(t){var e=t.loading,s=e===void 0?!0:e,i=t.color,n=i===void 0?"#000000":i,a=t.speedMultiplier,o=a===void 0?1:a,g=t.cssOverride,p=g===void 0?{}:g,v=t.size,T=v===void 0?35:v,u=pt(t,["loading","color","speedMultiplier","cssOverride","size"]),x=se({background:"transparent !important",width:je(T),height:je(T),borderRadius:"100%",border:"2px solid",borderTopColor:n,borderBottomColor:"transparent",borderLeftColor:n,borderRightColor:n,display:"inline-block",animation:"".concat(mt," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},p);return s?f.createElement("span",se({style:x},u)):null}const bt=f.forwardRef(({className:t,...e},s)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:s,className:j("w-full caption-bottom text-sm",t),...e})}));bt.displayName="Table";const vt=f.forwardRef(({className:t,...e},s)=>c.jsx("thead",{ref:s,className:j("[&_tr]:border-b",t),...e}));vt.displayName="TableHeader";const yt=f.forwardRef(({className:t,...e},s)=>c.jsx("tbody",{ref:s,className:j("[&_tr:last-child]:border-0",t),...e}));yt.displayName="TableBody";const gt=f.forwardRef(({className:t,...e},s)=>c.jsx("tfoot",{ref:s,className:j("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));gt.displayName="TableFooter";const xt=f.forwardRef(({className:t,...e},s)=>c.jsx("tr",{ref:s,className:j("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));xt.displayName="TableRow";const Rt=f.forwardRef(({className:t,...e},s)=>c.jsx("th",{ref:s,className:j("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Rt.displayName="TableHead";const Ct=f.forwardRef(({className:t,...e},s)=>c.jsx("td",{ref:s,className:j("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Ct.displayName="TableCell";const wt=f.forwardRef(({className:t,...e},s)=>c.jsx("caption",{ref:s,className:j("mt-4 text-sm text-muted-foreground",t),...e}));wt.displayName="TableCaption";export{Qt as C,Et as L,bt as T,vt as a,xt as b,Rt as c,yt as d,Ct as e,It as f,_t as u};
