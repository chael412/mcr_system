import{r as o,u as N,j as e,H as S,L as C,a as F}from"./app-BqRBQcJ9.js";import{S as u,F as n}from"./react-select.esm-BwB4fMHA.js";import"./select-BhDDVGkp.js";import{L as m}from"./label-Fx_rsG_Q.js";import{A as B}from"./AuthenticatedLayout-5oaBSj-P.js";import{B as h}from"./button-C9epaQ9w.js";import{I as L}from"./input-C_EZNZ2N.js";import"./dialog-slnNCvAX.js";import{u as M}from"./useAppUrl-B7r_fl3A.js";import"./index-JhQEQJfU.js";import"./clsx-B-dksMZM.js";const K=({birth:s})=>{const f=M(),b=s.id,[R,w]=o.useState([]),[A,v]=o.useState(""),[E,_]=o.useState(""),[I,H]=o.useState(""),{data:t,setData:r,errors:l,processing:j}=N({firstname:s.firstname,middlename:s.middlename,lastname:s.lastname,sex:s.sex,date_birth:s.date_birth,place_birth:s.place_birth,register_number:s.register_number,date_of_registration:s.date_of_registration,status:s.status,file:""});o.useEffect(()=>{v(s.sex||""),r("sex",s.sex||""),_(s.status||""),r("status",s.status||"")},[s.sex,s.status]);const c=[{value:"M",label:"Male"},{value:"F",label:"Female"}],p=[{value:"Legitimate",label:"Legitimate"},{value:"Illegitimate",label:"Illegitimate"}],y=a=>{r("file",a.target.files[0])},D=async a=>{var x;a.preventDefault();const i=new FormData;i.append("firstname",t.firstname),i.append("middlename",t.middlename),i.append("lastname",t.lastname),i.append("sex",t.sex),i.append("date_birth",t.date_birth),i.append("place_birth",t.place_birth),i.append("register_number",t.register_number),i.append("date_of_registration",t.date_of_registration),i.append("status",t.status),i.append("file",t.file);try{const d=await await F.post(`${f}/api/update_birthcertificate/${b}`,i,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}});(d.status===200||d.status===201)&&(alert("Birth certificate record updated successfully!"),window.location.reload())}catch(d){console.error("Error updating data:",((x=d.response)==null?void 0:x.data)||d)}},g=[{value:"N/A",label:"N/A"},{value:"Bicobian",label:"Bicobian"},{value:"Dibulos",label:"Dibulos"},{value:"Dicambangan",label:"Dicambangan"},{value:"Dicaruyan",label:"Dicaruyan"},{value:"Dicatian",label:"Dicatian"},{value:"Dilakit",label:"Dilakit"},{value:"Dimapnat",label:"Dimapnat"},{value:"Dimapula",label:"Dimapula"},{value:"Dimasalansan",label:"Dimasalansan"},{value:"Dipudo",label:"Dipudo"},{value:"Ditarum",label:"Ditarum"},{value:"Sapinit",label:"Sapinit"}];return e.jsxs(B,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Family Member"}),children:[e.jsx(S,{title:"Family Members"}),e.jsx("div",{className:" flex justify-center mb-5",children:e.jsx("div",{className:"border border-gray-400 w-[620px] rounded-md ",children:e.jsxs("form",{onSubmit:D,className:"px-6 py-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl",children:"Edit Birth Certificate"}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"mt-2",children:[e.jsx(m,{htmlFor:"file",children:"Birth Certificate"}),e.jsx(L,{type:"file",onChange:y})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(m,{htmlFor:"status",children:"Remarks"}),e.jsx(u,{value:p.find(a=>a.value===t.status),options:p,onChange:a=>r("status",(a==null?void 0:a.value)||"")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{id:"regsistry_number",label:"Registry Number",value:t.register_number,onChange:a=>r("register_number",a.target.value),error:l.register_number}),e.jsx(n,{id:"date_of_registration",label:"Date of Registration",type:"date",value:t.date_of_registration,onChange:a=>r("date_of_registration",a.target.value),error:l.date_of_registration})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{id:"firstname",label:"FirstName",value:t.firstname,onChange:a=>r("firstname",a.target.value),error:l.firstname}),e.jsx(n,{id:"middlename",label:"MiddleName",value:t.middlename,onChange:a=>r("middlename",a.target.value),error:l.middlename})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{id:"lastname",label:"LastName",value:t.lastname,onChange:a=>r("lastname",a.target.value),error:l.lastname}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"sex",children:"Sex"}),e.jsx(u,{value:c.find(a=>a.value===t.sex),options:c,onChange:a=>r("sex",(a==null?void 0:a.value)||"")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{id:"date_birth",label:"Date of Birth",type:"date",value:t.date_birth,onChange:a=>r("date_birth",a.target.value),error:l.date_birth}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"place_birth",children:"Barangay"}),e.jsx(u,{value:g.find(a=>a.value===t.place_birth),options:g,onChange:a=>r("place_birth",(a==null?void 0:a.value)||"")})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(C,{href:"/birth_certificates",children:e.jsx(h,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(h,{type:"submit",disabled:j,className:"px-6 py-2",children:"Update changes"})]})]})})})]})};export{K as default};
