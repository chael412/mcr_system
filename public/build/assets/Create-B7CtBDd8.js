import{r as l,u as h,j as e,H as p,L as x,a as b}from"./app-D0sKuglD.js";import{F as n}from"./FormField-D670Hfhr.js";import"./select-D5u9DXQu.js";import{L as j}from"./label-CV7NClm-.js";import{A as v}from"./AuthenticatedLayout-Pg1NqtLw.js";import{B as o}from"./button-KOHpw2pF.js";import{I as w}from"./input-uO1N_XeT.js";import"./dialog-CEFvkvHl.js";import{u as y}from"./useAppUrl-DQ3XK6I9.js";import"./index-Ce8UpedK.js";import"./clsx-B-dksMZM.js";const q=()=>{const f=y(),[N,C]=l.useState([]),[F,S]=l.useState([]),[L,I]=l.useState(""),[H,M]=l.useState(""),{data:s,setData:t,errors:i,reset:c,processing:u}=h({register_number:"",date_of_registration:"",husband_firstname:"",husband_middlename:"",husband_lastname:"",wife_firstname:"",wife_middlename:"",wife_lastname:"",file:""}),g=a=>{t("file",a.target.files[0])},_=async a=>{var m;a.preventDefault();const r=new FormData;r.append("husband_firstname",s.husband_firstname),r.append("husband_middlename",s.husband_middlename),r.append("husband_lastname",s.husband_lastname),r.append("wife_firstname",s.wife_firstname),r.append("wife_middlename",s.wife_middlename),r.append("wife_lastname",s.wife_lastname),r.append("register_number",s.register_number),r.append("date_of_registration",s.date_of_registration),r.append("file",s.file);try{console.log("Sending Payload:",s);const d=await b.post(`${f}/api/store_marriagecertificate`,r,{headers:{"Content-Type":"multipart/form-data"}});(d.status===200||d.status===201)&&(alert("Marriage certificate record added successfully."),window.location.reload(),c())}catch(d){console.error("Error saving data:",((m=d.response)==null?void 0:m.data)||d)}};return e.jsxs(v,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Marriage Certificates"}),children:[e.jsx(p,{title:"Marriage Certificates"}),e.jsx("div",{className:" flex justify-center mb-5",children:e.jsx("div",{className:"border border-gray-400 w-[860px] rounded-md ",children:e.jsxs("form",{onSubmit:_,className:"px-6 py-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl",children:"Add New Marriage Certificate"}),e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:e.jsxs("div",{className:"mt-2",children:[e.jsx(j,{htmlFor:"file",children:"File"}),e.jsx(w,{type:"file",onChange:g})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{id:"regsistry_number",label:"Registry Number",value:s.register_number,onChange:a=>t("register_number",a.target.value),error:i.register_number}),e.jsx(n,{id:"date_of_registration",label:"Date of Registration",type:"date",value:s.date_of_registration,onChange:a=>t("date_of_registration",a.target.value),error:i.date_of_registration})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Husband Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(n,{id:"husband_firstname",label:"FirstName",value:s.husband_firstname,onChange:a=>t("husband_firstname",a.target.value),error:i.husband_firstname}),e.jsx(n,{id:"husband_middlename",label:"MiddleName",value:s.husband_middlename,onChange:a=>t("husband_middlename",a.target.value),error:i.husband_middlename}),e.jsx(n,{id:"husband_lastname",label:"LastName",value:s.husband_lastname,onChange:a=>t("husband_lastname",a.target.value),error:i.husband_lastname})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Wife Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(n,{id:"wife_firstname",label:"FirstName",value:s.wife_firstname,onChange:a=>t("wife_firstname",a.target.value),error:i.wife_firstname}),e.jsx(n,{id:"wife_middlename",label:"MiddleName",value:s.wife_middlename,onChange:a=>t("wife_middlename",a.target.value),error:i.wife_middlename}),e.jsx(n,{id:"wife_lastname",label:"LastName",value:s.wife_lastname,onChange:a=>t("wife_lastname",a.target.value),error:i.wife_lastname})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(x,{href:"/marriage_certificates",children:e.jsx(o,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(o,{type:"submit",disabled:u,className:"px-6 py-2",children:"Save"})]})]})})})]})};export{q as default};
