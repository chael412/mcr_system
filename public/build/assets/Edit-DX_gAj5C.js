import{u as g,j as a,H as x,L as v,a as j}from"./app-DQX9OVmg.js";import{F as l,S as w}from"./react-select.esm-BQiTxtTb.js";import"./select-DuVJLNYx.js";import{L as u}from"./label-D9D_Y8Mz.js";import{A as D}from"./AuthenticatedLayout-C6bU0PmD.js";import{B as f}from"./button-EnwG9Vp5.js";import{I as y}from"./input-DLoqd4Qu.js";import"./dialog-Bxfu8syX.js";import{u as N}from"./useAppUrl-GuW6x_06.js";import"./index-CWgjLV9q.js";import"./clsx-B-dksMZM.js";const T=({marriage:r})=>{const _=N(),c=r.id,{data:i,setData:t,errors:n,processing:p}=g({register_number:r.register_number||"",date_of_registration:r.date_of_registration||"",husband_firstname:r.husband_firstname||"",husband_middlename:r.husband_middlename||"",husband_lastname:r.husband_lastname||"",wife_firstname:r.wife_firstname||"",wife_middlename:r.wife_middlename||"",wife_lastname:r.wife_lastname||"",place_marriage:r.place_marriage,file:""}),h=e=>{t("file",e.target.files[0])},b=async e=>{var o;e.preventDefault();const s=new FormData;s.append("husband_firstname",i.husband_firstname),s.append("husband_middlename",i.husband_middlename),s.append("husband_lastname",i.husband_lastname),s.append("wife_firstname",i.wife_firstname),s.append("wife_middlename",i.wife_middlename),s.append("wife_lastname",i.wife_lastname),s.append("register_number",i.register_number),s.append("date_of_registration",i.date_of_registration),s.append("place_marriage",i.place_marriage),s.append("file",i.file);try{const d=await await j.post(`${_}/api/update_marriagecertificate/${c}`,s,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}});(d.status===200||d.status===201)&&(alert(d.data.message),window.location.reload())}catch(d){console.error("Error updating data:",((o=d.response)==null?void 0:o.data)||d)}},m=[{value:"N/A",label:"N/A"},{value:"Bicobian",label:"Bicobian"},{value:"Dibulos",label:"Dibulos"},{value:"Dicambangan",label:"Dicambangan"},{value:"Dicaruyan",label:"Dicaruyan"},{value:"Dicatian",label:"Dicatian"},{value:"Dilakit",label:"Dilakit"},{value:"Dimapnat",label:"Dimapnat"},{value:"Dimapula",label:"Dimapula"},{value:"Dimasalansan",label:"Dimasalansan"},{value:"Dipudo",label:"Dipudo"},{value:"Ditarum",label:"Ditarum"},{value:"Sapinit",label:"Sapinit"}];return a.jsxs(D,{header:a.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Marriage Certificates"}),children:[a.jsx(x,{title:"Marriage Certificates"}),a.jsx("div",{className:" flex justify-center mb-5",children:a.jsx("div",{className:"border border-gray-400 w-[860px] rounded-md ",children:a.jsxs("form",{onSubmit:b,className:"px-6 py-4 space-y-4",children:[a.jsx("h2",{className:"text-2xl",children:"Edit Marriage Certificate"}),a.jsx("hr",{}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:a.jsxs("div",{className:"mt-2",children:[a.jsx(u,{htmlFor:"file",children:"File"}),a.jsx(y,{type:"file",onChange:h})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[a.jsx(l,{id:"regsistry_number",label:"Registry Number",value:i.register_number,onChange:e=>t("register_number",e.target.value),error:n.register_number}),a.jsx(l,{id:"date_of_registration",label:"Date of Registration",type:"date",value:i.date_of_registration,onChange:e=>t("date_of_registration",e.target.value),error:n.date_of_registration}),a.jsxs("div",{children:[a.jsx(u,{htmlFor:"place_marriage",children:"Barangay"}),a.jsx(w,{value:m.find(e=>e.value===i.place_marriage),options:m,onChange:e=>t("place_marriage",(e==null?void 0:e.value)||"")})]})]}),a.jsx("hr",{}),a.jsx("div",{children:a.jsx("p",{children:"Husband Information"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[a.jsx(l,{id:"husband_firstname",label:"FirstName",value:i.husband_firstname,onChange:e=>t("husband_firstname",e.target.value),error:n.husband_firstname}),a.jsx(l,{id:"husband_middlename",label:"MiddleName",value:i.husband_middlename,onChange:e=>t("husband_middlename",e.target.value),error:n.husband_middlename}),a.jsx(l,{id:"husband_lastname",label:"LastName",value:i.husband_lastname,onChange:e=>t("husband_lastname",e.target.value),error:n.husband_lastname})]}),a.jsx("hr",{}),a.jsx("div",{children:a.jsx("p",{children:"Wife Information"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[a.jsx(l,{id:"wife_firstname",label:"FirstName",value:i.wife_firstname,onChange:e=>t("wife_firstname",e.target.value),error:n.wife_firstname}),a.jsx(l,{id:"wife_middlename",label:"MiddleName",value:i.wife_middlename,onChange:e=>t("wife_middlename",e.target.value),error:n.wife_middlename}),a.jsx(l,{id:"wife_lastname",label:"LastName",value:i.wife_lastname,onChange:e=>t("wife_lastname",e.target.value),error:n.wife_lastname})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[a.jsx(v,{href:"/marriage_certificates",children:a.jsx(f,{type:"button",variant:"outline",children:"Cancel"})}),a.jsx(f,{type:"submit",disabled:p,className:"px-6 py-2",children:"Update changes"})]})]})})})]})};export{T as default};
