import{r,j as e,H as h}from"./app-DvXANNZK.js";import{D as p,P as j,G as g}from"./TextLayer-B4a4pX_m.js";import{C as b}from"./ClipLoader-E0x5LayD.js";import{A as y}from"./AuthenticatedLayout-epIY2ifN.js";import{u as N}from"./useAppUrl-BxHSIUod.js";import"./clsx-B-dksMZM.js";import"./button-xW2c3soG.js";import"./input-Fsz3NhoV.js";import"./index-DuEXUDqE.js";g.workerSrc=new URL("/build/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();const k=({member:t})=>{const n=N(),[c,d]=r.useState(null),[m,i]=r.useState(!0),[o,x]=r.useState(!1),a=t.birth_certificate?`${n}/${t.birth_certificate}`:null;r.useEffect(()=>{t.birth_certificate||i(!1);const s=setTimeout(()=>{x(!0)},800);return()=>clearTimeout(s)},[t.birth_certificate]);const u=({numPages:s})=>{d(s),i(!1)},f=()=>{const s=window.open(a);s.onload=()=>s.print()};return e.jsxs(y,{header:e.jsx("h2",{className:"text-xl font-semibold",children:"Family Member"}),children:[e.jsx(h,{title:"Family Members"}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"px-4 py-1",children:[!o&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-64",children:[e.jsx(b,{color:"#2563eb",size:80}),e.jsx("span",{className:"text-xl text-blue-600",children:"Loading..."})]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center gap-2 font-semibold text-xl bg-gray-200 px-4 py-2 mb-1",children:[e.jsx("h3",{children:`${t.firstname} ${t.middlename??""} ${t.lastname}`}),e.jsx("span",{children:"Birth Certificate"})]}),a?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:f,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Print"})}),e.jsx("div",{className:"h-[520px] overflow-auto border border-gray-400 p-2",children:e.jsx(p,{file:a,onLoadSuccess:u,onLoadError:()=>i(!1),loading:null,children:!m&&Array.from(new Array(c),(s,l)=>e.jsx(j,{pageNumber:l+1},l+1))})})]}):e.jsx("div",{className:"text-red-600 font-semibold text-center py-10",children:"No birth certificate uploaded."})]})]})})]})};export{k as default};
