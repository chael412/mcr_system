import{u as p,j as e,H as g,L as b,a as x}from"./app-D648RAON.js";import{F as d}from"./FormField-BoJYV1kW.js";import"./select-CpNBlKQP.js";import{L as j}from"./label-C4f7Db4j.js";import{A as w}from"./AuthenticatedLayout-DXOmWgxG.js";import{B as o}from"./button-BIXSl07C.js";import{I as v}from"./input-DN075s_5.js";import"./dialog-mHWvduWF.js";import{u as N}from"./useAppUrl-DH1satm-.js";import"./index-DgkJDqXM.js";import"./clsx-B-dksMZM.js";const T=({marriage:r})=>{const f=N(),u=r.id,{data:s,setData:i,errors:n,processing:_}=p({register_number:r.register_number||"",date_of_registration:r.date_of_registration||"",husband_firstname:r.husband_firstname||"",husband_middlename:r.husband_middlename||"",husband_lastname:r.husband_lastname||"",wife_firstname:r.wife_firstname||"",wife_middlename:r.wife_middlename||"",wife_lastname:r.wife_lastname||"",file:""}),h=a=>{i("file",a.target.files[0])},c=async a=>{var m;a.preventDefault();const t=new FormData;t.append("husband_firstname",s.husband_firstname),t.append("husband_middlename",s.husband_middlename),t.append("husband_lastname",s.husband_lastname),t.append("wife_firstname",s.wife_firstname),t.append("wife_middlename",s.wife_middlename),t.append("wife_lastname",s.wife_lastname),t.append("register_number",s.register_number),t.append("date_of_registration",s.date_of_registration),t.append("file",s.file);try{const l=await await x.post(`${f}/api/update_marriagecertificate/${u}`,t,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}});(l.status===200||l.status===201)&&(alert(l.data.message),window.location.reload())}catch(l){console.error("Error updating data:",((m=l.response)==null?void 0:m.data)||l)}};return e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Marriage Certificates"}),children:[e.jsx(g,{title:"Marriage Certificates"}),e.jsx("div",{className:" flex justify-center mb-5",children:e.jsx("div",{className:"border border-gray-400 w-[860px] rounded-md ",children:e.jsxs("form",{onSubmit:c,className:"px-6 py-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl",children:"Edit Marriage Certificate"}),e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:e.jsxs("div",{className:"mt-2",children:[e.jsx(j,{htmlFor:"file",children:"File"}),e.jsx(v,{type:"file",onChange:h})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(d,{id:"regsistry_number",label:"Registry Number",value:s.register_number,onChange:a=>i("register_number",a.target.value),error:n.register_number}),e.jsx(d,{id:"date_of_registration",label:"Date of Registration",type:"date",value:s.date_of_registration,onChange:a=>i("date_of_registration",a.target.value),error:n.date_of_registration})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Husband Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(d,{id:"husband_firstname",label:"FirstName",value:s.husband_firstname,onChange:a=>i("husband_firstname",a.target.value),error:n.husband_firstname}),e.jsx(d,{id:"husband_middlename",label:"MiddleName",value:s.husband_middlename,onChange:a=>i("husband_middlename",a.target.value),error:n.husband_middlename}),e.jsx(d,{id:"husband_lastname",label:"LastName",value:s.husband_lastname,onChange:a=>i("husband_lastname",a.target.value),error:n.husband_lastname})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx("p",{children:"Wife Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(d,{id:"wife_firstname",label:"FirstName",value:s.wife_firstname,onChange:a=>i("wife_firstname",a.target.value),error:n.wife_firstname}),e.jsx(d,{id:"wife_middlename",label:"MiddleName",value:s.wife_middlename,onChange:a=>i("wife_middlename",a.target.value),error:n.wife_middlename}),e.jsx(d,{id:"wife_lastname",label:"LastName",value:s.wife_lastname,onChange:a=>i("wife_lastname",a.target.value),error:n.wife_lastname})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(b,{href:"/marriage_certificates",children:e.jsx(o,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(o,{type:"submit",disabled:_,className:"px-6 py-2",children:"Update changes"})]})]})})})]})};export{T as default};
