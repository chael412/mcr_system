import{r as l,j as e,H as p}from"./app-Dotq_Kgt.js";import{C as j,D as h,P as g,v as N,G as b}from"./ClipLoader-Ds3NOw83.js";import{A as v}from"./AuthenticatedLayout-D5KrRH0i.js";import{u as y}from"./useAppUrl-21K1igYC.js";import"./button-DBj1PajB.js";import"./input-CCV34oGk.js";import"./index-B3raEOdZ.js";b.workerSrc=`//unpkg.com/pdfjs-dist@${N}/build/pdf.worker.min.js`;const k=({birth_certificate:s})=>{const i=y(),[d,c]=l.useState(null),[m,o]=l.useState(!0),[r,x]=l.useState(!1);console.log(s);const n=s.file?`${i}/${s.file}`:null;l.useEffect(()=>{s.file||o(!1);const t=setTimeout(()=>{x(!0)},800);return()=>clearTimeout(t)},[s.file]);const u=({numPages:t})=>{c(t),o(!1)},f=()=>{const t=window.open(n);t.onload=()=>t.print()};return e.jsxs(v,{header:e.jsx("h2",{className:"text-xl font-semibold",children:"Birth Certificates"}),children:[e.jsx(p,{title:"Birth Certificates"}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"px-4 py-1",children:[!r&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-64",children:[e.jsx(j,{color:"#2563eb",size:80}),e.jsx("span",{className:"text-xl text-blue-600",children:"Loading..."})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center gap-2 font-semibold text-xl bg-gray-200 px-4 py-2 mb-1",children:[e.jsx("h3",{children:`${s.firstname} ${s.middlename??""} ${s.lastname}`}),e.jsx("span",{children:"Birth Certificate"})]}),n?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:f,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Print"})}),e.jsx("div",{className:"h-[520px] overflow-auto border border-gray-400 p-2",children:e.jsx(h,{file:n,onLoadSuccess:u,onLoadError:()=>o(!1),loading:null,children:!m&&Array.from(new Array(d),(t,a)=>e.jsx(g,{pageNumber:a+1},a+1))})})]}):e.jsx("div",{className:"text-red-600 font-semibold text-center py-10",children:"No birth certificate uploaded."})]})]})})]})};export{k as default};
